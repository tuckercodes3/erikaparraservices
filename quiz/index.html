<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="facebook-domain-verification" content="dw0x17kt2ot8vdy4telrbvogt2ioif" />
  <title>Erika Parra Services — Consulta Gratuita</title>
  <meta name="description" content="Responde unas preguntas y te conectamos con nuestra especialista de inmigración.">
  <!-- Open Graph -->
  <meta property="og:title" content="Consulta Gratuita — Erika Parra Services">
  <meta property="og:description" content="Responde unas preguntas y conecta con Erika para evaluar tu caso de inmigración.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://erikaparraservices.com/quiz/">
  <meta property="og:locale" content="es_US">
  <meta property="og:site_name" content="Erika Parra Services">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@600;700&family=Outfit:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">

  <!-- Meta Pixel Code -->
  <script>
    !function(f,b,e,v,n,t,s){if(f.fbq)return;n=f.fbq=function(){n.callMethod?
    n.callMethod.apply(n,arguments):n.queue.push(arguments)};if(!f._fbq)f._fbq=n;
    n.push=n;n.loaded=!0;n.version='2.0';n.queue=[];t=b.createElement(e);t.async=!0;
    t.src=v;s=b.getElementsByTagName(e)[0];s.parentNode.insertBefore(t,s)}(window,
    document,'script','https://connect.facebook.net/en_US/fbevents.js');
    fbq('init', '599511379777017');
    fbq('track', 'PageView');
  </script>
  <noscript><img height="1" width="1" style="display:none" src="https://www.facebook.com/tr?id=599511379777017&ev=PageView&noscript=1" /></noscript>
  <!-- End Meta Pixel Code -->

  <style>
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

    :root {
      --navy: #1B3550;
      --navy-deep: #0F2237;
      --navy-light: #2C5282;
      --gold: #C9993A;
      --gold-soft: rgba(201, 153, 58, 0.08);
      --gold-line: rgba(201, 153, 58, 0.35);
      --red: #C53030;
      --red-soft: #FFF5F5;
      --green-wa: #25D366;
      --green-hover: #1DAF54;
      --white: #FFFFFF;
      --off-white: #FAFAF8;
      --cream: #F7F5F0;
      --gray-100: #F1EFEC;
      --gray-200: #E2DFDB;
      --gray-400: #A8A29E;
      --gray-600: #6B6560;
      --gray-800: #292524;
      --shadow-sm: 0 1px 3px rgba(0,0,0,0.04);
      --shadow-md: 0 4px 20px rgba(0,0,0,0.06);
      --radius: 12px;
    }

    html { height: 100%; }

    body {
      font-family: 'Outfit', -apple-system, sans-serif;
      color: var(--gray-800);
      background: linear-gradient(180deg, #FAF8F3 0%, var(--off-white) 300px, var(--off-white) 100%);
      min-height: 100%;
      display: flex;
      flex-direction: column;
      -webkit-font-smoothing: antialiased;
      line-height: 1.6;
    }

    /* ── NAV ── */
    .nav {
      background: var(--white);
      border-bottom: 1px solid var(--gray-200);
      padding: 16px 24px;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .nav-brand {
      font-family: 'Cormorant Garamond', Georgia, serif;
      font-weight: 700;
      font-size: 20px;
      color: var(--navy);
      text-decoration: none;
      letter-spacing: 0.2px;
    }

    .lang-toggle {
      display: flex;
      background: var(--gray-100);
      border-radius: 8px;
      overflow: hidden;
      border: 1px solid var(--gray-200);
    }

    .lang-btn {
      padding: 6px 14px;
      font-size: 13px;
      font-weight: 600;
      border: none;
      background: none;
      color: var(--gray-400);
      cursor: pointer;
      transition: all 0.2s;
      font-family: inherit;
    }

    .lang-btn.active {
      background: var(--navy);
      color: var(--white);
    }

    /* ── TRUST BAR ── */
    .quiz-trust-bar {
      background: var(--gold-soft);
      padding: 9px 24px;
      text-align: center;
      font-size: 12px;
      color: var(--gold);
      font-weight: 500;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 6px;
      flex-wrap: wrap;
      border-bottom: 1px solid var(--gray-100);
      letter-spacing: 0.2px;
    }
    .trust-stars { letter-spacing: 1px; }
    .trust-dot { opacity: 0.5; }

    /* ── PROGRESS ── */
    .progress-wrap {
      padding: 20px 24px 0;
      max-width: 560px;
      margin: 0 auto;
      width: 100%;
    }

    .progress-text {
      font-size: 13px;
      color: var(--gray-600);
      font-weight: 500;
      margin-bottom: 10px;
      letter-spacing: 0.2px;
    }

    .progress-bar {
      height: 6px;
      background: var(--gray-200);
      border-radius: 6px;
      overflow: hidden;
    }

    .progress-fill {
      height: 100%;
      background: linear-gradient(90deg, var(--gold), #D4A84A);
      border-radius: 6px;
      transition: width 0.5s cubic-bezier(0.16, 1, 0.3, 1);
      width: 0%;
      position: relative;
    }

    /* ── QUIZ CONTAINER ── */
    .quiz-wrap {
      flex: 1;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 32px 24px 48px;
    }

    .quiz-card {
      max-width: 560px;
      width: 100%;
    }

    /* ── STEP ── */
    .step {
      display: none;
    }

    .step.active {
      display: block;
      animation: slideIn 0.4s cubic-bezier(0.16, 1, 0.3, 1);
    }

    @keyframes slideIn {
      from { opacity: 0; transform: translateY(16px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .step-question {
      font-family: 'Cormorant Garamond', Georgia, serif;
      font-size: clamp(24px, 5vw, 34px);
      font-weight: 700;
      color: var(--navy);
      line-height: 1.2;
      margin-bottom: 8px;
      letter-spacing: -0.3px;
    }

    .step-sub {
      font-size: 15px;
      color: var(--gray-600);
      font-weight: 300;
      margin-bottom: 32px;
      line-height: 1.7;
    }

    /* ── OPTIONS ── */
    .options {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .option {
      display: flex;
      align-items: center;
      gap: 14px;
      padding: 18px 20px;
      background: var(--white);
      border: 1px solid var(--gray-200);
      border-left: 3px solid transparent;
      border-radius: var(--radius);
      cursor: pointer;
      transition: all 0.25s ease;
      font-family: inherit;
      font-size: 15px;
      font-weight: 500;
      color: var(--gray-800);
      text-align: left;
      width: 100%;
      box-shadow: var(--shadow-sm);
    }

    .option:hover {
      border-color: var(--gold-line);
      border-left-color: var(--gold);
      box-shadow: var(--shadow-md);
      background: var(--white);
    }

    .option.selected {
      border-color: var(--gold-line);
      border-left-color: var(--gold);
      background: var(--gold-soft);
      box-shadow: var(--shadow-md);
    }

    .option-icon {
      width: 44px;
      height: 44px;
      border-radius: 10px;
      background: var(--gold-soft);
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
      font-size: 18px;
      transition: background 0.2s;
    }

    .option.selected .option-icon {
      background: rgba(201, 153, 58, 0.15);
    }

    .option-text {
      flex: 1;
    }

    .option-label {
      font-weight: 600;
      font-size: 15px;
      color: var(--gray-800);
    }

    .option-desc {
      font-size: 13px;
      color: var(--gray-400);
      font-weight: 300;
      margin-top: 2px;
      line-height: 1.4;
    }

    .option-check {
      width: 22px;
      height: 22px;
      border: 2px solid var(--gray-200);
      border-radius: 50%;
      flex-shrink: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.25s ease;
    }

    .option.selected .option-check {
      border-color: var(--gold);
      background: var(--gold);
    }

    .option.selected .option-check::after {
      content: '';
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: var(--white);
    }

    /* ── INPUTS ── */
    .input-group {
      margin-bottom: 16px;
    }

    .input-label {
      font-size: 13px;
      font-weight: 600;
      color: var(--gray-600);
      margin-bottom: 6px;
      display: block;
    }

    .input-field {
      width: 100%;
      padding: 14px 16px;
      background: var(--white);
      border: 1px solid var(--gray-200);
      border-radius: var(--radius);
      font-family: inherit;
      font-size: 16px;
      color: var(--gray-800);
      outline: none;
      transition: border-color 0.2s, box-shadow 0.2s;
      box-shadow: var(--shadow-sm);
    }

    .input-field:focus {
      border-color: var(--gold);
      box-shadow: 0 0 0 3px var(--gold-soft);
    }

    .input-field::placeholder { color: var(--gray-400); }

    select.input-field {
      appearance: none;
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 24 24' fill='none' stroke='%23A8A29E' stroke-width='2.5' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");
      background-repeat: no-repeat;
      background-position: right 16px center;
      padding-right: 40px;
    }

    /* ── BUTTONS ── */
    .btn-row {
      display: flex;
      gap: 12px;
      margin-top: 32px;
    }

    .btn-back {
      padding: 14px 24px;
      background: var(--white);
      border: 1px solid var(--gray-200);
      border-radius: 100px;
      font-family: inherit;
      font-size: 15px;
      font-weight: 600;
      color: var(--gray-600);
      cursor: pointer;
      transition: all 0.2s;
      box-shadow: var(--shadow-sm);
    }

    .btn-back:hover { background: var(--gray-100); }

    .btn-next {
      flex: 1;
      padding: 14px 24px;
      background: var(--navy);
      border: none;
      border-radius: 100px;
      font-family: inherit;
      font-size: 15px;
      font-weight: 700;
      color: var(--white);
      cursor: pointer;
      transition: all 0.25s ease;
      box-shadow: 0 4px 16px rgba(27,53,80,0.2);
    }

    .btn-next:hover { background: var(--navy-light); transform: translateY(-1px); }
    .btn-next:disabled { opacity: 0.35; cursor: not-allowed; transform: none; box-shadow: none; }
    .btn-next:active:not(:disabled) { transform: scale(0.98); }

    .btn-wa {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      width: 100%;
      padding: 18px 32px;
      background: var(--green-wa);
      border: none;
      border-radius: 100px;
      font-family: inherit;
      font-size: 17px;
      font-weight: 700;
      color: var(--white);
      cursor: pointer;
      text-decoration: none;
      transition: all 0.25s ease;
      box-shadow: 0 4px 20px rgba(37,211,102,0.3);
      margin-top: 28px;
      animation: ctaPulse 2.5s ease-in-out infinite;
    }

    .btn-wa:hover { background: var(--green-hover); transform: translateY(-2px); box-shadow: 0 6px 24px rgba(37,211,102,0.35); }
    .btn-wa:active { transform: scale(0.98); }
    .btn-wa svg { width: 22px; height: 22px; fill: currentColor; }

    @keyframes ctaPulse {
      0%, 100% { box-shadow: 0 4px 20px rgba(37,211,102,0.3); }
      50% { box-shadow: 0 4px 28px rgba(37,211,102,0.45); }
    }

    /* ── SUMMARY ── */
    .summary-list {
      display: flex;
      flex-direction: column;
      gap: 8px;
      margin-bottom: 24px;
    }

    .summary-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 14px 18px;
      background: var(--white);
      border: 1px solid var(--gray-200);
      border-left: 3px solid var(--gold);
      border-radius: 8px;
      box-shadow: var(--shadow-sm);
    }

    .summary-label {
      font-size: 12px;
      color: var(--gray-400);
      font-weight: 500;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .summary-value {
      font-size: 14px;
      color: var(--navy);
      font-weight: 600;
      text-align: right;
    }

    .overflow-notice {
      background: var(--red-soft);
      border: 1px solid #FED7D7;
      border-radius: var(--radius);
      padding: 16px;
      margin-bottom: 24px;
    }

    .overflow-notice p {
      font-size: 14px;
      color: var(--red);
      font-weight: 500;
      line-height: 1.6;
    }

    /* ── TRUST FOOTER ── */
    .trust-footer {
      padding: 24px 24px;
      text-align: center;
      border-top: 1px solid var(--gray-200);
      background: var(--cream);
    }

    .trust-footer p {
      font-size: 11px;
      color: var(--gray-400);
      line-height: 1.6;
      max-width: 480px;
      margin: 0 auto;
    }

    .trust-badges {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 24px;
      margin-bottom: 12px;
    }

    .trust-badge {
      display: flex;
      align-items: center;
      gap: 6px;
      font-size: 12px;
      color: var(--gray-600);
      font-weight: 500;
    }

    .trust-badge svg {
      width: 14px;
      height: 14px;
      stroke: var(--gold);
      fill: none;
      stroke-width: 2.5;
      stroke-linecap: round;
      stroke-linejoin: round;
    }

    /* ── RESPONSIVE ── */
    @media (max-width: 640px) {
      .quiz-wrap { padding: 24px 16px 40px; }
      .option { padding: 16px; }
      .option-icon { width: 40px; height: 40px; font-size: 16px; }
      .quiz-trust-bar { font-size: 11px; gap: 5px; padding: 8px 16px; }
      .step-question { margin-bottom: 6px; }
      .step-sub { margin-bottom: 24px; font-size: 14px; }
      .progress-wrap { padding: 16px 16px 0; }
      .nav { padding: 14px 16px; }
      .summary-item { padding: 12px 14px; }
      .btn-wa { padding: 16px 28px; font-size: 16px; }
    }
  </style>
</head>
<body>

  <!-- NAV -->
  <nav class="nav">
    <a href="../" class="nav-brand">Erika Parra Services</a>
    <div class="lang-toggle">
      <button class="lang-btn active" onclick="setLang('es')" id="lang-es">ES</button>
      <button class="lang-btn" onclick="setLang('en')" id="lang-en">EN</button>
    </div>
  </nav>

  <!-- TRUST BAR -->
  <div class="quiz-trust-bar">
    <span class="trust-stars">★★★★★</span>
    <span data-es="600+ familias ayudadas" data-en="600+ families helped"></span>
    <span class="trust-dot">·</span>
    <span data-es="Consulta gratuita" data-en="Free consultation"></span>
    <span class="trust-dot">·</span>
    <span data-es="Respuesta en 24h" data-en="Response within 24h"></span>
  </div>

  <!-- PROGRESS -->
  <div class="progress-wrap">
    <div class="progress-text" id="progress-text"></div>
    <div class="progress-bar"><div class="progress-fill" id="progress-fill"></div></div>
  </div>

  <!-- QUIZ -->
  <div class="quiz-wrap">
    <div class="quiz-card">

      <!-- STEP 1: Case Type -->
      <div class="step active" id="step-1">
        <h2 class="step-question" data-es="¿Qué tipo de ayuda necesitas?" data-en="What type of help do you need?"></h2>
        <p class="step-sub" data-es="Selecciona el servicio que mejor describe tu situación." data-en="Select the service that best describes your situation."></p>
        <div class="options">
          <button class="option" onclick="selectOption(1, 'family')">
            <div class="option-icon">&#x1F46A;</div>
            <div class="option-text">
              <div class="option-label" data-es="Peticiones Familiares" data-en="Family Petitions"></div>
              <div class="option-desc" data-es="Ajuste de estatus, residencia, reunificación familiar" data-en="Adjustment of status, residency, family reunification"></div>
            </div>
            <div class="option-check"></div>
          </button>
          <button class="option" onclick="selectOption(1, 'asylum')">
            <div class="option-icon">&#x1F6E1;</div>
            <div class="option-text">
              <div class="option-label" data-es="Asilo" data-en="Asylum"></div>
              <div class="option-desc" data-es="Solicitud de asilo y preparación para entrevista" data-en="Asylum application and interview preparation"></div>
            </div>
            <div class="option-check"></div>
          </button>
          <button class="option" onclick="selectOption(1, 'work-permit')">
            <div class="option-icon">&#x1F4BC;</div>
            <div class="option-text">
              <div class="option-label" data-es="Permiso de Trabajo (EAD)" data-en="Work Permit (EAD)"></div>
              <div class="option-desc" data-es="Autorización de empleo" data-en="Employment authorization"></div>
            </div>
            <div class="option-check"></div>
          </button>
          <button class="option" onclick="selectOption(1, 'tps')">
            <div class="option-icon">&#x1F1FA;&#x1F1F8;</div>
            <div class="option-text">
              <div class="option-label" data-es="TPS" data-en="TPS"></div>
              <div class="option-desc" data-es="Estatus de Protección Temporal" data-en="Temporary Protected Status"></div>
            </div>
            <div class="option-check"></div>
          </button>
          <button class="option" onclick="selectOption(1, 'deportation')">
            <div class="option-icon">&#x26A0;</div>
            <div class="option-text">
              <div class="option-label" data-es="Defensa de Deportación" data-en="Deportation Defense"></div>
              <div class="option-desc" data-es="Procedimientos de remoción, detención por ICE" data-en="Removal proceedings, ICE detention"></div>
            </div>
            <div class="option-check"></div>
          </button>
          <button class="option" onclick="selectOption(1, 'other')">
            <div class="option-icon">&#x2753;</div>
            <div class="option-text">
              <div class="option-label" data-es="Otro / No estoy seguro" data-en="Other / Not sure"></div>
              <div class="option-desc" data-es="DACA, visas, ciudadanía, u otra consulta" data-en="DACA, visas, citizenship, or other inquiry"></div>
            </div>
            <div class="option-check"></div>
          </button>
        </div>
      </div>

      <!-- STEP 2: Current Status -->
      <div class="step" id="step-2">
        <h2 class="step-question" data-es="¿Cuál es tu estatus migratorio actual?" data-en="What is your current immigration status?"></h2>
        <p class="step-sub" data-es="Tu información es 100% confidencial y protegida." data-en="Your information is 100% confidential and protected."></p>
        <div class="options">
          <button class="option" onclick="selectOption(2, 'undocumented')">
            <div class="option-text">
              <div class="option-label" data-es="Sin documentos" data-en="Undocumented"></div>
            </div>
            <div class="option-check"></div>
          </button>
          <button class="option" onclick="selectOption(2, 'visa-holder')">
            <div class="option-text">
              <div class="option-label" data-es="Tengo visa" data-en="Visa holder"></div>
            </div>
            <div class="option-check"></div>
          </button>
          <button class="option" onclick="selectOption(2, 'green-card')">
            <div class="option-text">
              <div class="option-label" data-es="Residente permanente (Green Card)" data-en="Permanent resident (Green Card)"></div>
            </div>
            <div class="option-check"></div>
          </button>
          <button class="option" onclick="selectOption(2, 'tps-daca')">
            <div class="option-text">
              <div class="option-label" data-es="TPS o DACA" data-en="TPS or DACA"></div>
            </div>
            <div class="option-check"></div>
          </button>
          <button class="option" onclick="selectOption(2, 'citizen-helping')">
            <div class="option-text">
              <div class="option-label" data-es="Ciudadano ayudando a un familiar" data-en="US citizen helping a family member"></div>
            </div>
            <div class="option-check"></div>
          </button>
          <button class="option" onclick="selectOption(2, 'other-status')">
            <div class="option-text">
              <div class="option-label" data-es="Otro / No estoy seguro" data-en="Other / Not sure"></div>
            </div>
            <div class="option-check"></div>
          </button>
        </div>
        <div class="btn-row">
          <button class="btn-back" onclick="goBack()" data-es="Atrás" data-en="Back"></button>
        </div>
      </div>

      <!-- STEP 3: Entry Method -->
      <div class="step" id="step-3">
        <h2 class="step-question" data-es="¿Cómo ingresaste a los Estados Unidos?" data-en="How did you enter the United States?"></h2>
        <p class="step-sub" data-es="Tu última entrada al país. Esta información es confidencial y nos ayuda a evaluar tu caso." data-en="Your most recent entry. This information is confidential and helps us evaluate your case."></p>
        <div class="options">
          <button class="option" onclick="selectOption(3, 'visa-entry')">
            <div class="option-text">
              <div class="option-label" data-es="Entré con visa" data-en="I entered with a visa"></div>
              <div class="option-desc" data-es="Visa de turista, trabajo, estudiante u otra" data-en="Tourist, work, student, or other visa"></div>
            </div>
            <div class="option-check"></div>
          </button>
          <button class="option" onclick="selectOption(3, 'border-parole')">
            <div class="option-text">
              <div class="option-label" data-es="Entré por la frontera con parole" data-en="I entered at the border with parole"></div>
              <div class="option-desc" data-es="CBP One, parole humanitario u otro programa" data-en="CBP One, humanitarian parole, or other program"></div>
            </div>
            <div class="option-check"></div>
          </button>
          <button class="option" onclick="selectOption(3, 'border-no-docs')">
            <div class="option-text">
              <div class="option-label" data-es="Crucé la frontera sin documentos" data-en="I crossed the border without documents"></div>
            </div>
            <div class="option-check"></div>
          </button>
          <button class="option" onclick="selectOption(3, 'overstay')">
            <div class="option-text">
              <div class="option-label" data-es="Mi visa expiró y me quedé" data-en="My visa expired and I stayed"></div>
            </div>
            <div class="option-check"></div>
          </button>
          <button class="option" onclick="selectOption(3, 'born-here')">
            <div class="option-text">
              <div class="option-label" data-es="Nací aquí / Soy ciudadano ayudando a alguien" data-en="I was born here / I'm a citizen helping someone"></div>
            </div>
            <div class="option-check"></div>
          </button>
          <button class="option" onclick="selectOption(3, 'not-sure-entry')">
            <div class="option-text">
              <div class="option-label" data-es="No estoy seguro / Prefiero no decir" data-en="Not sure / Prefer not to say"></div>
            </div>
            <div class="option-check"></div>
          </button>
        </div>
        <div class="btn-row">
          <button class="btn-back" onclick="goBack()" data-es="Atrás" data-en="Back"></button>
        </div>
      </div>

      <!-- STEP 4: Urgency -->
      <div class="step" id="step-4">
        <h2 class="step-question" data-es="¿Qué tan pronto necesitas ayuda?" data-en="How soon do you need help?"></h2>
        <p class="step-sub" data-es="Esto nos ayuda a priorizar tu caso." data-en="This helps us prioritize your case."></p>
        <div class="options">
          <button class="option" onclick="selectOption(4, 'urgent')">
            <div class="option-text">
              <div class="option-label" data-es="Urgente — Tengo fecha de corte o contacto con ICE" data-en="Urgent — I have a court date or ICE contact"></div>
            </div>
            <div class="option-check"></div>
          </button>
          <button class="option" onclick="selectOption(4, '30-days')">
            <div class="option-text">
              <div class="option-label" data-es="Dentro de 30 días" data-en="Within 30 days"></div>
            </div>
            <div class="option-check"></div>
          </button>
          <button class="option" onclick="selectOption(4, 'exploring')">
            <div class="option-text">
              <div class="option-label" data-es="Estoy explorando mis opciones" data-en="I'm exploring my options"></div>
            </div>
            <div class="option-check"></div>
          </button>
        </div>
        <div class="btn-row">
          <button class="btn-back" onclick="goBack()" data-es="Atrás" data-en="Back"></button>
        </div>
      </div>

      <!-- STEP 5: Location -->
      <div class="step" id="step-5">
        <h2 class="step-question" data-es="¿Dónde te encuentras?" data-en="Where are you located?"></h2>
        <p class="step-sub" data-es="Necesitamos tu ubicación para conectarte con el servicio correcto." data-en="We need your location to connect you with the right service."></p>
        <div class="input-group">
          <label class="input-label" data-es="Estado" data-en="State"></label>
          <select class="input-field" id="input-state" onchange="checkStep4()">
            <option value="" data-es="Selecciona tu estado" data-en="Select your state"></option>
            <option value="CA">California</option>
            <option value="TX">Texas</option>
            <option value="FL">Florida</option>
            <option value="NY">New York</option>
            <option value="AZ">Arizona</option>
            <option value="IL">Illinois</option>
            <option value="NJ">New Jersey</option>
            <option value="GA">Georgia</option>
            <option value="NC">North Carolina</option>
            <option value="VA">Virginia</option>
            <option value="MD">Maryland</option>
            <option value="NV">Nevada</option>
            <option value="CO">Colorado</option>
            <option value="WA">Washington</option>
            <option value="MA">Massachusetts</option>
            <option value="OTHER" data-es="Otro estado" data-en="Other state">Otro / Other</option>
          </select>
        </div>
        <div class="input-group">
          <label class="input-label" data-es="Ciudad" data-en="City"></label>
          <input class="input-field" type="text" id="input-city" placeholder="" oninput="checkStep4()" data-placeholder-es="Tu ciudad" data-placeholder-en="Your city">
        </div>
        <div class="btn-row">
          <button class="btn-back" onclick="goBack()" data-es="Atrás" data-en="Back"></button>
          <button class="btn-next" id="btn-step5" onclick="goNext()" disabled data-es="Continuar" data-en="Continue"></button>
        </div>
      </div>

      <!-- STEP 6: Contact Info -->
      <div class="step" id="step-6">
        <h2 class="step-question" data-es="¿Cómo te contactamos?" data-en="How do we reach you?"></h2>
        <p class="step-sub" data-es="Te conectaremos con nuestra especialista." data-en="We'll connect you with our specialist."></p>
        <div class="input-group">
          <label class="input-label" data-es="Tu nombre" data-en="Your name"></label>
          <input class="input-field" type="text" id="input-name" oninput="checkStep5()" data-placeholder-es="Nombre completo" data-placeholder-en="Full name">
        </div>
        <div class="input-group">
          <label class="input-label" data-es="Tu número de teléfono" data-en="Your phone number"></label>
          <input class="input-field" type="tel" id="input-phone" oninput="checkStep5()" data-placeholder-es="(786) 000-0000" data-placeholder-en="(786) 000-0000">
        </div>
        <div class="btn-row">
          <button class="btn-back" onclick="goBack()" data-es="Atrás" data-en="Back"></button>
          <button class="btn-next" id="btn-step6" onclick="showSummary()" disabled data-es="Ver resumen" data-en="View summary"></button>
        </div>
      </div>

      <!-- STEP 7: Summary + WhatsApp CTA -->
      <div class="step" id="step-7">
        <h2 class="step-question" data-es="¡Ya casi! Habla con Erika ahora" data-en="Almost there! Talk to Erika now"></h2>
        <p class="step-sub" data-es="Revisa tu información y envíale un mensaje a Erika para que pueda evaluar tu caso personalmente." data-en="Review your info and message Erika so she can personally evaluate your case."></p>

        <div id="overflow-notice" class="overflow-notice" style="display:none;">
          <p data-es="Tu caso requiere representación legal de un abogado. Te conectaremos con un abogado de inmigración calificado en tu área." data-en="Your case requires legal representation from an attorney. We'll connect you with a qualified immigration attorney in your area."></p>
        </div>

        <div class="summary-list" id="summary-list"></div>

        <a id="wa-cta" href="#" class="btn-wa" target="_blank" rel="noopener">
          <span data-es="Iniciar conversación con Erika" data-en="Start a conversation with Erika"></span>
          <svg viewBox="0 0 24 24"><line x1="5" y1="12" x2="19" y2="12" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" fill="none"/><polyline points="12 5 19 12 12 19" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" fill="none"/></svg>
        </a>
      </div>

    </div>
  </div>

  <!-- TRUST FOOTER -->
  <div class="trust-footer">
    <div class="trust-badges">
      <div class="trust-badge">
        <svg viewBox="0 0 24 24"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>
        <span data-es="100% Confidencial" data-en="100% Confidential"></span>
      </div>
      <div class="trust-badge">
        <svg viewBox="0 0 24 24"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>
        <span data-es="600+ Clientes" data-en="600+ Clients"></span>
      </div>
      <div class="trust-badge">
        <svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><line x1="2" y1="12" x2="22" y2="12"/><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/></svg>
        <span data-es="Bilingüe" data-en="Bilingual"></span>
      </div>
    </div>
    <p data-es="Erika Parra Services es un servicio de preparación de formularios de inmigración. No somos abogados y no proporcionamos asesoría legal." data-en="Erika Parra Services is an immigration forms preparation service. We are not attorneys and do not provide legal advice."></p>
  </div>

  <script>
    // ── STATE ──
    let currentStep = 1;
    const totalSteps = 7;
    let lang = 'es';
    const answers = {};

    // ── LABELS ──
    const labels = {
      caseType: {
        es: { family: 'Peticiones Familiares', asylum: 'Asilo', 'work-permit': 'Permiso de Trabajo', tps: 'TPS', deportation: 'Defensa de Deportación', other: 'Otro' },
        en: { family: 'Family Petitions', asylum: 'Asylum', 'work-permit': 'Work Permit', tps: 'TPS', deportation: 'Deportation Defense', other: 'Other' }
      },
      status: {
        es: { undocumented: 'Sin documentos', 'visa-holder': 'Tengo visa', 'green-card': 'Residente permanente', 'tps-daca': 'TPS o DACA', 'citizen-helping': 'Ciudadano ayudando a familiar', 'other-status': 'Otro' },
        en: { undocumented: 'Undocumented', 'visa-holder': 'Visa holder', 'green-card': 'Permanent resident', 'tps-daca': 'TPS or DACA', 'citizen-helping': 'US citizen helping family', 'other-status': 'Other' }
      },
      entryMethod: {
        es: { 'visa-entry': 'Entré con visa', 'border-parole': 'Parole en la frontera', 'border-no-docs': 'Crucé sin documentos', 'overstay': 'Visa expirada', 'born-here': 'Nací aquí / Ciudadano', 'not-sure-entry': 'No estoy seguro' },
        en: { 'visa-entry': 'Entered with visa', 'border-parole': 'Border parole', 'border-no-docs': 'Crossed without documents', 'overstay': 'Visa overstay', 'born-here': 'Born here / US Citizen', 'not-sure-entry': 'Not sure' }
      },
      urgency: {
        es: { urgent: 'Urgente', '30-days': 'Dentro de 30 días', exploring: 'Explorando opciones' },
        en: { urgent: 'Urgent', '30-days': 'Within 30 days', exploring: 'Exploring options' }
      },
      stepLabels: {
        es: ['Servicio', 'Estatus', 'Entrada al país', 'Urgencia', 'Ubicación', 'Contacto'],
        en: ['Service', 'Status', 'Entry method', 'Urgency', 'Location', 'Contact']
      },
      summaryLabels: {
        es: ['Servicio', 'Estatus migratorio', 'Entrada al país', 'Urgencia', 'Ubicación', 'Nombre', 'Teléfono'],
        en: ['Service', 'Immigration status', 'Entry method', 'Urgency', 'Location', 'Name', 'Phone']
      }
    };

    // Overflow case types (need attorney)
    const overflowTypes = ['deportation', 'other'];

    // ── LANGUAGE ──
    function setLang(l) {
      lang = l;
      document.getElementById('lang-es').classList.toggle('active', l === 'es');
      document.getElementById('lang-en').classList.toggle('active', l === 'en');
      document.documentElement.lang = l;
      // Update all translatable elements
      document.querySelectorAll('[data-' + l + ']').forEach(el => {
        el.textContent = el.getAttribute('data-' + l);
      });
      // Update placeholders
      document.querySelectorAll('[data-placeholder-' + l + ']').forEach(el => {
        el.placeholder = el.getAttribute('data-placeholder-' + l);
      });
      // Update select default options
      document.querySelectorAll('option[data-' + l + ']').forEach(el => {
        el.textContent = el.getAttribute('data-' + l);
      });
      updateProgress();
    }

    // ── PROGRESS ──
    function updateProgress() {
      const pct = Math.round(((currentStep - 1) / (totalSteps - 1)) * 100);
      document.getElementById('progress-fill').style.width = pct + '%';
      const stepLabel = labels.stepLabels[lang];
      if (currentStep <= 6) {
        document.getElementById('progress-text').textContent =
          (lang === 'es' ? 'Paso ' : 'Step ') + currentStep + ' / 6 — ' + stepLabel[currentStep - 1];
      } else {
        document.getElementById('progress-text').textContent = lang === 'es' ? 'Listo para conectar' : 'Ready to connect';
      }
    }

    // ── NAVIGATION ──
    function showStep(n) {
      document.querySelectorAll('.step').forEach(s => s.classList.remove('active'));
      document.getElementById('step-' + n).classList.add('active');
      currentStep = n;
      updateProgress();
    }

    function goBack() {
      if (currentStep > 1) showStep(currentStep - 1);
    }

    function goNext() {
      if (currentStep < totalSteps) showStep(currentStep + 1);
    }

    // ── OPTION SELECT ──
    function selectOption(step, value) {
      const stepEl = document.getElementById('step-' + step);
      stepEl.querySelectorAll('.option').forEach(o => o.classList.remove('selected'));
      event.currentTarget.classList.add('selected');

      if (step === 1) answers.caseType = value;
      if (step === 2) answers.status = value;
      if (step === 3) answers.entryMethod = value;
      if (step === 4) answers.urgency = value;

      // Auto-advance after selection with slight delay
      setTimeout(() => goNext(), 300);

      // Fire pixel events
      if (step === 1) {
        fbq('trackCustom', 'QuizCaseType', { caseType: value });
      }
    }

    // ── STEP 5 VALIDATION (Location) ──
    function checkStep4() {
      const state = document.getElementById('input-state').value;
      const city = document.getElementById('input-city').value.trim();
      document.getElementById('btn-step5').disabled = !(state && city.length >= 2);
    }

    // ── STEP 6 VALIDATION (Contact) ──
    function checkStep5() {
      const name = document.getElementById('input-name').value.trim();
      const phone = document.getElementById('input-phone').value.trim();
      document.getElementById('btn-step6').disabled = !(name.length >= 2 && phone.length >= 7);
    }

    // ── SUMMARY ──
    function showSummary() {
      answers.state = document.getElementById('input-state').value;
      answers.city = document.getElementById('input-city').value.trim();
      answers.name = document.getElementById('input-name').value.trim();
      answers.phone = document.getElementById('input-phone').value.trim();

      const sl = labels.summaryLabels[lang];
      const isOverflow = overflowTypes.includes(answers.caseType);

      // Show overflow notice if needed
      document.getElementById('overflow-notice').style.display = isOverflow ? 'block' : 'none';

      // Build summary
      const summaryData = [
        { label: sl[0], value: labels.caseType[lang][answers.caseType] || answers.caseType },
        { label: sl[1], value: labels.status[lang][answers.status] || answers.status },
        { label: sl[2], value: labels.entryMethod[lang][answers.entryMethod] || answers.entryMethod },
        { label: sl[3], value: labels.urgency[lang][answers.urgency] || answers.urgency },
        { label: sl[4], value: answers.city + ', ' + answers.state },
        { label: sl[5], value: answers.name },
        { label: sl[6], value: answers.phone }
      ];

      const listEl = document.getElementById('summary-list');
      listEl.innerHTML = summaryData.map(d =>
        '<div class="summary-item"><span class="summary-label">' + d.label + '</span><span class="summary-value">' + d.value + '</span></div>'
      ).join('');

      // Build WhatsApp message
      const caseLabel = labels.caseType[lang === 'es' ? 'es' : 'en'][answers.caseType];
      const urgLabel = labels.urgency[lang === 'es' ? 'es' : 'en'][answers.urgency];
      const statusLabel = labels.status[lang === 'es' ? 'es' : 'en'][answers.status];
      const entryLabel = labels.entryMethod[lang === 'es' ? 'es' : 'en'][answers.entryMethod];

      let waMsg;
      if (lang === 'es') {
        waMsg = 'Hola Erika, estoy buscando ayuda con mi caso de inmigración. Aquí está mi información:\n\n'
          + '• Servicio: ' + caseLabel + '\n'
          + '• Mi estatus: ' + statusLabel + '\n'
          + '• Cómo ingresé: ' + entryLabel + '\n'
          + '• Urgencia: ' + urgLabel + '\n'
          + '• Ubicación: ' + answers.city + ', ' + answers.state + '\n'
          + '• Mi nombre: ' + answers.name + '\n\n'
          + 'Me gustaría saber si puedes ayudarme. ¡Gracias!';
      } else {
        waMsg = 'Hi Erika, I\'m looking for help with my immigration case. Here\'s my info:\n\n'
          + '• Service: ' + caseLabel + '\n'
          + '• My status: ' + statusLabel + '\n'
          + '• How I entered: ' + entryLabel + '\n'
          + '• Urgency: ' + urgLabel + '\n'
          + '• Location: ' + answers.city + ', ' + answers.state + '\n'
          + '• My name: ' + answers.name + '\n\n'
          + 'I\'d like to know if you can help me. Thank you!';
      }

      const waUrl = 'https://wa.me/17868306859?text=' + encodeURIComponent(waMsg);
      document.getElementById('wa-cta').href = waUrl;

      // Log to Google Sheet
      logToSheet();

      showStep(7);

      // Fire pixel Lead event — this is what Meta optimizes against
      fbq('track', 'Lead', {
        content_name: answers.caseType,
        content_category: isOverflow ? 'overflow' : 'direct',
        value: isOverflow ? 0 : 1,
        currency: 'USD'
      });
    }

    // ── GOOGLE SHEET LOGGER ──
    const APPS_SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbxHYYWBx1E3SkstULaG2fpaZ9BF7Z__dfDMMqFglOl3kJHEUrFYCzVftRX3uP3VpMw/exec';

    function logToSheet() {
      if (!APPS_SCRIPT_URL) return; // Skip if not configured yet
      const payload = {
        name: answers.name,
        phone: answers.phone,
        caseType: labels.caseType[lang][answers.caseType] || answers.caseType,
        status: labels.status[lang][answers.status] || answers.status,
        entryMethod: labels.entryMethod[lang][answers.entryMethod] || answers.entryMethod,
        urgency: labels.urgency[lang][answers.urgency] || answers.urgency,
        location: answers.city + ', ' + answers.state,
        lang: lang
      };
      // Fire and forget — don't block the WhatsApp CTA
      fetch(APPS_SCRIPT_URL, {
        method: 'POST',
        mode: 'no-cors',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(payload)
      }).catch(function() {}); // Silent fail, WhatsApp is primary
    }

    // ── INIT ──
    setLang('es');
    updateProgress();
  </script>

</body>
</html>
